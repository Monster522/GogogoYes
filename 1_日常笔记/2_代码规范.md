- **需要加强日志的管理**
  1. 日志级别的选择要符合规范
  2. 流水日志尽量通过oncelog 里的信息，将该请求的多条日志串联起来
  3. 流水日志需要打印用户IP、设备Token、指纹信息（需脱敏，但要兼顾排查问题需求）
  4. 流水日志尽量在业务接口层集中打印，避免深入到调用的函数中
  5. 流水日志的数量尽量收敛，每个请求控制在2~4条流水日志
  6. 流水日志需要反映出调用分支
  7. 外部依赖接口的调用（比如Hub、SPM、IS），需要将请求包、回包、请求延时打印出来

- **代码融合方式的选择**
  1. 尽量减少根据国家来判断代码分支选择，改用需求场景来替代（比如供应商、功能项enable/disable）
  2. 如果确实需要判断国家，采用环境变量来判断
  3. 该国家未实现的接口，采用pb的未实现接口方式，替代panic

- **访问DB需要优化的地方**
  1. 配置默认超时时间，可以根据业务场景调整超时时间
  2. 每个接口避免交叉访问Master和Slave（全部采用Master），减少数据同步时延带来的问题
  3. 确定必要的核心关联操作，才采用事务，避免事务的滥用。
  4. 尽量避免删除记录，用状态列来做标记，但需要注意重新添加时被唯一键冲突

- **交互设计需要优化的地方**
  1. 验证OTP不能仅仅依靠前端，黑客可以绕过验证结果，直接访问需要OTP验证保护的接口

- **代码风格需要优化的地方**
  1. 多次重复大段的代码，考虑封装
  2. 非主流程的大段代码，考虑封装
  3. 超长的代码，考虑封装
  4. 接口、变量的命名，尽量望文生义，避免歧义
  5. 数字100000考虑用1e5来替换
  6. utils目录，应只包含本地方法，避免有外部接口调用

- **代码质量需要优化的地方**
  1. 请求的入参，需要做合法性验证
  2. 函数/接口返回的错误，需要处理；返回的变量，需要验证合法性（是否为nil 或 长度是否为0）
  3. 将自测用例，放入统一的目录进行管理，以后朝着自动化单元测试的方向发展